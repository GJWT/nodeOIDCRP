<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: oic/init.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: oic/init.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const OAuth2Client = require('../oauth2/init').Client;
const OicFactory = require('../oic/service/service').OicFactory;

const DEFAULT_SERVICES = [
  'Authorization', 'AccessToken', 'RefreshAccessToken', 'ProviderInfoDiscovery',
  'UserInfo', 'Registration'
];

const MAX_AUTHENTICATION_AGE = 86400;

const PREFERENCE2PROVIDER = {
  'require_signed_request_object': 'request_object_algs_supported',
  'request_object_signing_alg': 'request_object_signing_alg_values_supported',
  'request_object_encryption_alg':
      'request_object_encryption_alg_values_supported',
  'request_object_encryption_enc':
      'request_object_encryption_enc_values_supported',
  'userinfo_signed_response_alg': 'userinfo_signing_alg_values_supported',
  'userinfo_encrypted_response_alg': 'userinfo_encryption_alg_values_supported',
  'userinfo_encrypted_response_enc': 'userinfo_encryption_enc_values_supported',
  'id_token_signed_response_alg': 'id_token_signing_alg_values_supported',
  'id_token_encrypted_response_alg': 'id_token_encryption_alg_values_supported',
  'id_token_encrypted_response_enc': 'id_token_encryption_enc_values_supported',
  'default_acr_values': 'acr_values_supported',
  'subject_type': 'subject_types_supported',
  'token_endpoint_auth_method': 'token_endpoint_auth_methods_supported',
  'token_endpoint_auth_signing_alg':
      'token_endpoint_auth_signing_alg_values_supported',
  'response_types': 'response_types_supported',
  'grant_types': 'grant_types_supported'
};

let PROVIDER2PREFERENCE = {};

for (let i = 0; i &lt; Object.keys(PREFERENCE2PROVIDER).length; i++) {
  let k = Object.keys(PREFERENCE2PROVIDER)[i];
  let v = PREFERENCE2PROVIDER[k];
  PROVIDER2PREFERENCE[k] = v;
};

const PROVIDER_DEFAULT = {
  'token_endpoint_auth_method': 'client_secret_basic',
  'id_token_signed_response_alg': 'RS256',
};

/**
 * Client
 * @class
 * @constructor
 * @extends OAuth2Client
 */
class Client extends OAuth2Client {
  constructor() {
    super();
  }

  init(
      caCerts, clientAuthnMethod, keyJar, verifySsl, config, clientCert,
      httpLib, services, serviceFactory) {
    caCerts = caCerts || null;
    clientAuthnMethod = clientAuthnMethod || null;
    keyJar = keyJar || null;
    verifySsl = verifySsl || true;
    config = config || null;
    clientCert = clientCert || null;
    httpLib = httpLib || null;
    services = services || null;
    serviceFactory = serviceFactory || null;

    let srvs = services || DEFAULT_SERVICES;
    serviceFactory = serviceFactory || OicFactory;
    super.init(
        clientAuthnMethod, config, caCerts, keyJar, verifySsl, clientCert,
        httpLib, srvs, serviceFactory);
  }

  static getProviderDefault() {
    return PROVIDER_DEFAULT;
  }

  /**
   * Performs request for AccessToken Service and parses the returned response
   * @param {ClientInfo} cliInfo Client information
   * @param {string} bodyType Which serialization to use for the HTTP body
   * @param {string} method HTTP method used
   * @param {string} authMethod One of the six client authentication methods
   * @param {Object&lt;string, string>} requestArgs Message arguments
   * @param {Object&lt;string, object>} httpArgs Initial HTTP header arguments
   * @returns Returns the parsed response returned from the AccessToken service request
   */
  accessTokenRequest(cliInfo, bodyType, method, authMethod, requestArgs, httpArgs){
  }

  /**
   * Performs request for Authorization Service and parses the returned response
   * @param {ClientInfo} cliInfo Client information
   * @param {string} bodyType Which serialization to use for the HTTP body
   * @param {string} method HTTP method used
   * @param {string} authMethod One of the six client authentication methods
   * @param {Object&lt;string, string>} requestArgs Message arguments
   * @param {Object&lt;string, object>} httpArgs Initial HTTP header arguments
   * @returns Returns the parsed response returned from the Authorization service request
   */
  authorize(cliInfo, bodyType, method, authMethod, requestArgs, httpArgs){
  }

  /**
   * Performs request for RefreshAccessToken Service and parses the returned response
   * @param {ClientInfo} cliInfo Client information
   * @param {string} bodyType Which serialization to use for the HTTP body
   * @param {string} method HTTP method used
   * @param {string} authMethod One of the six client authentication methods
   * @param {Object&lt;string, string>} requestArgs Message arguments
   * @param {Object&lt;string, object>} httpArgs Initial HTTP header arguments
   * @returns Returns the parsed response returned from the RefreshAccessToken service request
   */
  refreshAccessTokenRequest(cliInfo, bodyType, method, authMethod, requestArgs, httpArgs){
  }

  /**
   * Performs request for CheckId Service and parses the returned response
   * @param {ClientInfo} cliInfo Client information
   * @param {string} bodyType Which serialization to use for the HTTP body
   * @param {string} method HTTP method used
   * @param {string} authMethod One of the six client authentication methods
   * @param {Object&lt;string, string>} requestArgs Message arguments
   * @param {Object&lt;string, object>} httpArgs Initial HTTP header arguments
   * @returns Returns the parsed response returned from the CheckId service request
   */
  checkId(cliInfo, bodyType, method, authMethod, requestArgs, httpArgs){
  };

  /**
   * Performs request for CheckSession Service and parses the returned response
   * @param {ClientInfo} cliInfo Client information
   * @param {string} bodyType Which serialization to use for the HTTP body
   * @param {string} method HTTP method used
   * @param {string} authMethod One of the six client authentication methods
   * @param {Object&lt;string, string>} requestArgs Message arguments
   * @param {Object&lt;string, object>} httpArgs Initial HTTP header arguments
   * @returns Returns the parsed response returned from the CheckSession service request
   */
  checkSession(cliInfo, bodyType, method, authMethod, requestArgs, httpArgs){
  }

  /**
   * Performs request for EndSession Service and parses the returned response
   * @param {ClientInfo} cliInfo Client information
   * @param {string} bodyType Which serialization to use for the HTTP body
   * @param {string} method HTTP method used
   * @param {string} authMethod One of the six client authentication methods
   * @param {Object&lt;string, string>} requestArgs Message arguments
   * @param {Object&lt;string, object>} httpArgs Initial HTTP header arguments
   * @returns Returns the parsed response returned from the EndSession service request
   */
  endSession(cliInfo, bodyType, method, authMethod, requestArgs, httpArgs){
  }

  /**
   * Performs request for ProviderInfo Service and parses the returned response
   * @param {ClientInfo} cliInfo Client information
   * @param {string} bodyType Which serialization to use for the HTTP body
   * @param {string} method HTTP method used
   * @param {string} authMethod One of the six client authentication methods
   * @param {Object&lt;string, string>} requestArgs Message arguments
   * @param {Object&lt;string, object>} httpArgs Initial HTTP header arguments
   * @returns Returns the parsed response returned from the ProviderInfo service request
   */
  discoverProviderInfo(cliInfo, bodyType, method, authMethod, requestArgs, httpArgs){
  }

  /**
   * Performs request for Registration Service and parses the returned response
   * @param {ClientInfo} cliInfo Client information
   * @param {string} bodyType Which serialization to use for the HTTP body
   * @param {string} method HTTP method used
   * @param {string} authMethod One of the six client authentication methods
   * @param {Object&lt;string, string>} requestArgs Message arguments
   * @param {Object&lt;string, object>} httpArgs Initial HTTP header arguments
   * @returns Returns the parsed response returned from the Registration service request
   */
  register(cliInfo, bodyType, method, authMethod, requestArgs, httpArgs){
  }

  /**
   * Performs request for UserInfo Service and parses the returned response
   * @param {ClientInfo} cliInfo Client information
   * @param {string} bodyType Which serialization to use for the HTTP body
   * @param {string} method HTTP method used
   * @param {string} authMethod One of the six client authentication methods
   * @param {Object&lt;string, string>} requestArgs Message arguments
   * @param {Object&lt;string, object>} httpArgs Initial HTTP header arguments
   * @returns Returns the parsed response returned from the UserInfo service request
   */
  userInfoRequest(cliInfo, bodyType, method, authMethod, requestArgs, httpArgs){
  }
}

module.exports.Client = Client;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AccessToken.html">AccessToken</a></li><li><a href="Authorization.html">Authorization</a></li><li><a href="BearerBody.html">BearerBody</a></li><li><a href="BearerHeader.html">BearerHeader</a></li><li><a href="CheckID.html">CheckID</a></li><li><a href="CheckSession.html">CheckSession</a></li><li><a href="Client.html">Client</a></li><li><a href="ClientAuthnMethod.html">ClientAuthnMethod</a></li><li><a href="ClientInfo.html">ClientInfo</a></li><li><a href="ClientSecretBasic.html">ClientSecretBasic</a></li><li><a href="ClientSecretJWT.html">ClientSecretJWT</a></li><li><a href="ClientSecretPost.html">ClientSecretPost</a></li><li><a href="EndSession.html">EndSession</a></li><li><a href="JRD.html">JRD</a></li><li><a href="JWSAuthnMethod.html">JWSAuthnMethod</a></li><li><a href="LINK.html">LINK</a></li><li><a href="OICCli.html">OICCli</a></li><li><a href="ProviderInfoDiscovery.html">ProviderInfoDiscovery</a></li><li><a href="RefreshAccessToken.html">RefreshAccessToken</a></li><li><a href="Registration.html">Registration</a></li><li><a href="Service.html">Service</a></li><li><a href="State.html">State</a></li><li><a href="StateJWT.html">StateJWT</a></li><li><a href="URINormalizer.html">URINormalizer</a></li><li><a href="UserInfo.html">UserInfo</a></li><li><a href="Util.html">Util</a></li><li><a href="WebFinger.html">WebFinger</a></li></ul><h3>Global</h3><ul><li><a href="global.html#buildServices">buildServices</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Fri Mar 09 2018 11:36:25 GMT-0800 (PST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
